#!/bin/bash

# ⚠️  DEPRECATED: This script is legacy and has been superseded by 'clsecure'
# 
# clsecure-enhanced is deprecated. Please use 'clsecure' instead, which includes
# all features from clsecure-enhanced plus additional improvements:
#   - Submodule support (copies from local source)
#   - --config flag for configuration management
#   - --no-network and --no-docker flags
#   - Better error handling and security fixes
#
# Migration: Simply replace 'clsecure-enhanced' with 'clsecure' in your scripts
#
# This script will redirect to 'clsecure' if it exists, otherwise exit with error.

if [ -f "$(dirname "$0")/clsecure" ]; then
    echo "⚠️  clsecure-enhanced is deprecated. Redirecting to clsecure..." >&2
    echo "" >&2
    exec "$(dirname "$0")/clsecure" "$@"
elif command -v clsecure &>/dev/null; then
    echo "⚠️  clsecure-enhanced is deprecated. Redirecting to clsecure..." >&2
    echo "" >&2
    exec clsecure "$@"
else
    echo "ERROR: clsecure-enhanced is deprecated and clsecure was not found." >&2
    echo "" >&2
    echo "Please install or use 'clsecure' instead." >&2
    echo "Installation: sudo install -m 755 clsecure /usr/local/bin/" >&2
    exit 1
fi
